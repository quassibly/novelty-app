<div class="edit-container">
  <%= render 'shared/sidebar' %>
  <div class="novel-form">
    <%= simple_form_for @novel, :url => novel_path(@novel), :method => :patch do |f| %>
      <%= f.text_field(:title, class: "novel-title") %>
      <div class="content"><%= f.text_area(:content, class: "novel", data: {"id" => @novel.id}) %></div>
      <div class="edit-actions">
          <%= submit_tag('Save Novel', class: "btn btn-primary")%>
      </div>
  <% end %>

  <div class="edit-helpers">
    <!-- random sentence generator modal -->
    <%= render 'shared/random' %>
    <div class="edit-counter">
        <div><span class="wordcount"><%= @novel.novel_wordcount %></span> words</div>
        <span class=".">Word Count Target: 1450</span>
        <span class = "target"></span>
    </div>
  </div>
  </div>

  <p>Word Count: <%= @counter.token_count %></p>
  <p>Unique Words: <%=  @counter.uniq_token_count %></p>
  <p>Character Count: <%= @counter.char_count %></p>
  <p>Top 5 Words: <% @counter.token_frequency.first(5).each do |key, value| %>
    <table border="1" width="300px">
      <tr>
        <td width="150px"><%= key %></td>
        <td width="150px"><%= value %></td>
      </tr>
  </table>
  <% end %>
  </p>

</div>


<!--
Implement a counter method/timer method. when this method reaches either 500 characters or 5 minutes then runs a second method that does a fetch(post) method that sends a JSON file to the controller that reads the file then saves this to @novel.content
-->

<%= javascript_pack_tag 'autosave' %>
